* @amory/src-fs-watch

** Install

#+begin_src sh
npm install --save @amory/src-fs-watch
#+end_src

** Example

#+begin_src js
const srcFsWatch = require ("@amory/src-fs-watch")
const { join } = require ("path").posix
const { filter } = require ("rxjs/operators")

// Any valid chokidar options (plus `src`) can be passed here:
const watcher = srcFsWatch ({
  "src": join (process.cwd (), "src")
})

watcher
  .pipe (filter (({ src }) => /\.js(on)?$/.test (src)))
  .subscribe ({
    "next": ({ evt, src }) => console.log (evt, src)
  })
#+end_src

** Credits

Inspired by original code and concepts from:
- [[https://github.com/DeMoorJasper/fswatcher-child][DeMoorJasper/fswatcher-child]]
- [[https://github.com/tools-rx/watch-rx][tools-rx/watch-rx]]
- [[https://github.com/webpack/watchpack][webpack/watchpack]]
